<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: ControlFlow</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Class: ControlFlow</h1>
    
    



<section>
    
<header>
    <h2>
    ControlFlow
    </h2>
    
</header>  

<article>
    <div class="container-overview">
    
    
    
        
<dt>
    <h4 class="name" id="ControlFlow"><span class="type-signature"></span>new ControlFlow<span class="signature">(<span class="optional">opt_timer</span>)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Handles the execution of scheduled tasks, each of which may be an
asynchronous operation. The control flow will ensure tasks are executed in
the ordered scheduled, starting each task only once those before it have
completed.

<p>Each task scheduled within this flow may return a
<a href="webdriver.promise.Promise.html">webdriver.promise.Promise</a> to indicate it is an asynchronous
operation. The ControlFlow will wait for such promises to be resolved before
marking the task as completed.

<p>Tasks and each callback registered on a <a href="webdriver.promise.Deferred.html">webdriver.promise.Deferred</a>
will be run in their own ControlFlow frame.  Any tasks scheduled within a
frame will have priority over previously scheduled tasks. Furthermore, if
any of the tasks in the frame fails, the remainder of the tasks in that frame
will be discarded and the failure will be propagated to the user through the
callback/task's promised result.

<p>Each time a ControlFlow empties its task queue, it will fire an
<a href="webdriver.promise.ControlFlow.html#EventType#IDLE">webdriver.promise.ControlFlow.EventType.IDLE</a> event. Conversely,
whenever the flow terminates due to an unhandled error, it will remove all
remaining tasks in its queue and fire an
<a href="webdriver.promise.ControlFlow.html#EventType#UNCAUGHT_EXCEPTION">webdriver.promise.ControlFlow.EventType.UNCAUGHT_EXCEPTION</a> event. If
there are no listeners registered with the flow, the error will be
rethrown to the global error handler.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		<th>Argument</th>
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>opt_timer</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">         setTimeout: function(!Function, number): number}</span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                </td>
            
            
            
            
            <td class="description last">The timer object to use. Should only be set for testing.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 834
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    
    
</dd>

    
    </div>
    
    
        <h3 class="subsection-title">Extends</h3>
        
        <ul>
            <li><a href="webdriver.EventEmitter.html">webdriver.EventEmitter</a></li>
        </ul>
    
    
    
    
    
    
    
    
    
    
    
        <h3 class="subsection-title">Members</h3>
        
        <dl>
            
<dt>
    <h4 class="name" id="ANNOTATION_PROPERTY_"><span class="type-signature">&lt;private, static, constant> </span>ANNOTATION_PROPERTY_<span class="type-signature"> :string</span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        Property used to track whether an error has been annotated by
<a href="webdriver.promise.ControlFlow.html#annotateError">webdriver.promise.ControlFlow#annotateError</a>.
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 1070
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
</dd>

        
            
<dt>
    <h4 class="name" id="defaultTimer"><span class="type-signature">&lt;static> </span>defaultTimer<span class="type-signature"> :{{clearInterval: function(number),
        clearTimeout: function(number),
        setInterval: function(!Function, number): number,
        setTimeout: function(!Function, number): number}}</span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        The default timer object, which uses the global timer functions.
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 866
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
</dd>

        
            
<dt>
    <h4 class="name" id="EVENT_LOOP_FREQUENCY"><span class="type-signature">&lt;static, constant> </span>EVENT_LOOP_FREQUENCY<span class="type-signature"> :number</span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        How often, in milliseconds, the event loop should run.
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 917
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
</dd>

        
            
<dt>
    <h4 class="name" id="EventType"><span class="type-signature">&lt;static> </span>EventType<span class="type-signature"> :string</span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        Events that may be emitted by an <a href="webdriver.promise.ControlFlow.html">webdriver.promise.ControlFlow</a>.
    </div>
    
    
    
<dl class="details">
    
        
        <h5 class="subsection-title">Properties:</h5>
        
        <dl>

<table class="props">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		<th>Default</th>
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>IDLE</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
                <td class="default">
                
                    idle
                
                </td>
            
            
            <td class="description last">Emitted when all tasks have been successfully executed.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>SCHEDULE_TASK</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
                <td class="default">
                
                    scheduleTask
                
                </td>
            
            
            <td class="description last">Emitted whenever a new task has been scheduled.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>UNCAUGHT_EXCEPTION</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
                <td class="default">
                
                    uncaughtException
                
                </td>
            
            
            <td class="description last">Emitted whenever a control flow aborts due to an unhandled promise
rejection. This event will be emitted along with the offending rejection
reason. Upon emitting this event, the control flow will empty its task
queue and revert to its initial state.</td>
        </tr>
	
	
	</tbody>
</table></dl>
        
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 894
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
</dd>

        
            
<dt>
    <h4 class="name" id="activeFrame_"><span class="type-signature">&lt;private> </span>activeFrame_<span class="type-signature"> :<a href="webdriver.promise.Frame_.html">webdriver.promise.Frame_</a></span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        Tracks the active execution frame for this instance. Lazily initialized
when the first task is scheduled.
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 926
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
</dd>

        
            
<dt>
    <h4 class="name" id="eventLoopId_"><span class="type-signature">&lt;private> </span>eventLoopId_<span class="type-signature"> :number</span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        Interval ID for this instance's event loop.
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 969
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
</dd>

        
            
<dt>
    <h4 class="name" id="events_"><span class="type-signature">&lt;private> </span>events_<span class="type-signature"> :{!Object.&lt;!Array.&lt;{fn: !Function, oneshot: boolean,
                         scope: (Object|undefined)}>>}</span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        Map of events to registered listeners.
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="webdriver.EventEmitter.html#events_">webdriver.EventEmitter#events_</a>
    </li></dd>
    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="events.js.html">events.js</a>, line 36
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
</dd>

        
            
<dt>
    <h4 class="name" id="history_"><span class="type-signature">&lt;private> </span>history_<span class="type-signature"> :Array.&lt;!webdriver.promise.Task_></span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        A list of recent tasks. Each time a new task is started, or a frame is
completed, the previously recorded task is removed from this list. If
there are multiple tasks, task N+1 is considered a sub-task of task
N.
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 854
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
</dd>

        
            
<dt>
    <h4 class="name" id="numAbortedFrames_"><span class="type-signature">&lt;private> </span>numAbortedFrames_<span class="type-signature"> :number</span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        The number of aborted frames since the last time a task was executed or a
frame completed successfully.
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 998
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
</dd>

        
            
<dt>
    <h4 class="name" id="on"><span class="type-signature"></span>on<span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        An alias for #addListener().
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="webdriver.EventEmitter.html#on">webdriver.EventEmitter#on</a>
    </li></dd>
    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="events.js.html">events.js</a>, line 143
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
</dd>

        
            
<dt>
    <h4 class="name" id="pendingRejections_"><span class="type-signature">&lt;private> </span>pendingRejections_<span class="type-signature"> :number</span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        The number of "pending" promise rejections.

<p>Each time a promise is rejected and is not handled by a listener, it will
schedule a 0-based timeout to check if it is still unrejected in the next
turn of the JS-event loop. This allows listeners to attach to, and handle,
the rejected promise at any point in same turn of the event loop that the
promise was rejected.

<p>When this flow's own event loop triggers, it will not run if there
are any outstanding promise rejections. This allows unhandled promises to
be reported before a new task is started, ensuring the error is reported to
the current task queue.
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 989
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
</dd>

        
            
<dt>
    <h4 class="name" id="schedulingFrame_"><span class="type-signature">&lt;private> </span>schedulingFrame_<span class="type-signature"> :<a href="webdriver.promise.Frame_.html">webdriver.promise.Frame_</a></span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        A reference to the frame in which new tasks should be scheduled. If
null, tasks will be scheduled within the active frame. When forcing
a function to run in the context of a new frame, this pointer is used to
ensure tasks are scheduled within the newly created frame, even though it
won't be active yet.
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 939
    </li></ul></dd>
    
    
    
    
    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>{#runInNewFrame_}</li>
        </ul>
    </dd>
    
    
    
</dl>

    
    
</dd>

        
            
<dt>
    <h4 class="name" id="shutdownId_"><span class="type-signature">&lt;private> </span>shutdownId_<span class="type-signature"> :number</span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        Timeout ID set when the flow is about to shutdown without any errors
being detected. Upon shutting down, the flow will emit an
<a href="webdriver.promise.ControlFlow.html#EventType#IDLE">webdriver.promise.ControlFlow.EventType.IDLE</a> event. Idle events
always follow a brief timeout in order to catch latent errors from the last
completed task. If this task had a callback registered, but no errback, and
the task fails, the unhandled failure would not be reported by the promise
system until the next turn of the event loop:

  // Schedule 1 task that fails.
  var result = webriver.promise.controlFlow().schedule('example',
      function() { return webdriver.promise.rejected('failed'); });
  // Set a callback on the result. This delays reporting the unhandled
  // failure for 1 turn of the event loop.
  result.then(goog.nullFunction);
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 961
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
</dd>

        
            
<dt>
    <h4 class="name" id="timer"><span class="type-signature"></span>timer<span class="type-signature"> :{{clearInterval: function(number),
        clearTimeout: function(number),
        setInterval: function(!Function, number): number,
        setTimeout: function(!Function, number): number}}</span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        The timer used by this instance.
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 844
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
</dd>

        </dl>
    
    
    
        <h3 class="subsection-title">Methods</h3>
        
        <dl>
            
<dt>
    <h4 class="name" id="abortFrame_"><span class="type-signature">&lt;private> </span>abortFrame_<span class="signature">(error)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Aborts the current frame. The frame, and all of the tasks scheduled within it
will be discarded. If this instance does not have an active frame, it will
immediately terminate all execution.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>error</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The reason the frame is being aborted; typically either
    an Error or string.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 1450
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="abortNow_"><span class="type-signature">&lt;private> </span>abortNow_<span class="signature">(error)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Aborts this flow, abandoning all remaining tasks. If there are
listeners registered, an UNCAUGHT_EXCEPTION will be emitted with the
offending error, otherwise, the error will be rethrown to the
global error handler.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>error</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>
            
            
            
            
            
            <td class="description last">Object describing the error that caused the flow to
    abort; usually either an Error or string value.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 1600
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="addListener"><span class="type-signature"></span>addListener<span class="signature">(type, listenerFn, <span class="optional">opt_scope</span>)</span><span class="type-signature"> &rarr; {<a href="webdriver.EventEmitter.html">webdriver.EventEmitter</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Registers a listener.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		<th>Argument</th>
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>type</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
                <td class="attributes">
                
                    
                
                </td>
            
            
            
            
            <td class="description last">The type of event to listen for.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>listenerFn</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Function</span>


            
            </td>
            
            
                <td class="attributes">
                
                    
                
                </td>
            
            
            
            
            <td class="description last">The function to invoke when the event is fired.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>opt_scope</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                </td>
            
            
            
            
            <td class="description last">The object in whose scope to invoke the listener.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="webdriver.EventEmitter.html#addListener">webdriver.EventEmitter#addListener</a>
    </li></dd>
    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="events.js.html">events.js</a>, line 117
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    A self reference.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="webdriver.EventEmitter.html">webdriver.EventEmitter</a></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="addListener_"><span class="type-signature">&lt;private> </span>addListener_<span class="signature">(type, listenerFn, <span class="optional">opt_scope</span>, <span class="optional">opt_oneshot</span>)</span><span class="type-signature"> &rarr; {<a href="webdriver.EventEmitter.html">webdriver.EventEmitter</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Registers a listener.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		<th>Argument</th>
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>type</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
                <td class="attributes">
                
                    
                
                </td>
            
            
            
            
            <td class="description last">The type of event to listen for.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>listenerFn</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Function</span>


            
            </td>
            
            
                <td class="attributes">
                
                    
                
                </td>
            
            
            
            
            <td class="description last">The function to invoke when the event is fired.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>opt_scope</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                </td>
            
            
            
            
            <td class="description last">The object in whose scope to invoke the listener.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>opt_oneshot</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                </td>
            
            
            
            
            <td class="description last">Whether the listener should be removed after
   the first event is fired.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="webdriver.EventEmitter.html#addListener_">webdriver.EventEmitter#addListener_</a>
    </li></dd>
    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="events.js.html">events.js</a>, line 91
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    A self reference.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="webdriver.EventEmitter.html">webdriver.EventEmitter</a></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="annotateError"><span class="type-signature"></span>annotateError<span class="signature">(e)</span><span class="type-signature"> &rarr; {Error|goog.testing.JsUnitException}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Appends a summary of this instance's recent task history to the given
error's stack trace. This function will also ensure the error's stack trace
is in canonical form.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>e</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Error</span>
|

<span class="param-type">goog.testing.JsUnitException</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The error to annotate.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 1081
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    The annotated error.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">Error</span>
|

<span class="param-type">goog.testing.JsUnitException</span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="await"><span class="type-signature"></span>await<span class="signature">(promise)</span><span class="type-signature"> &rarr; {<a href="webdriver.promise.Promise.html">webdriver.promise.Promise</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Schedules a task that will wait for another promise to resolve.  The resolved
promise's value will be returned as the task result.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>promise</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="webdriver.promise.Promise.html">webdriver.promise.Promise</a></span>


            
            </td>
            
            
            
            
            
            <td class="description last">The promise to wait on.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 1303
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    A promise that will resolve when the
    task has completed.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="webdriver.promise.Promise.html">webdriver.promise.Promise</a></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="cancelEventLoop_"><span class="type-signature">&lt;private> </span>cancelEventLoop_<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Cancels the event loop, if necessary.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 1327
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="cancelShutdown_"><span class="type-signature">&lt;private> </span>cancelShutdown_<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Cancels the shutdown sequence if it is currently scheduled.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 1583
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="clearHistory"><span class="type-signature"></span>clearHistory<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Clears this instance's task history.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 1042
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="commenceShutdown_"><span class="type-signature">&lt;private> </span>commenceShutdown_<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Commences the shutdown sequence for this instance. After one turn of the
event loop, this object will emit the
<a href="webdriver.promise.ControlFlow.html#EventType#IDLE">webdriver.promise.ControlFlow.EventType.IDLE</a> event to signal
listeners that it has completed. During this wait, if another task is
scheduled, the shutdown will be aborted.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 1560
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="emit"><span class="type-signature"></span>emit<span class="signature">(type, var_args)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Fires an event and calls all listeners.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>type</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The type of event to emit.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>var_args</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>
            
            
            
            
            
            <td class="description last">Any arguments to pass to each listener.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="webdriver.EventEmitter.html#emit">webdriver.EventEmitter#emit</a>
    </li></dd>
    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="events.js.html">events.js</a>, line 45
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="execute"><span class="type-signature"></span>execute<span class="signature">(fn, <span class="optional">opt_description</span>)</span><span class="type-signature"> &rarr; {<a href="webdriver.promise.Promise.html">webdriver.promise.Promise</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Schedules a task for execution. If there is nothing currently in the
queue, the task will be executed in the next turn of the event loop.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		<th>Argument</th>
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>fn</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Function</span>


            
            </td>
            
            
                <td class="attributes">
                
                    
                
                </td>
            
            
            
            
            <td class="description last">The function to call to start the task. If the
    function returns a <a href="webdriver.promise.Promise.html">webdriver.promise.Promise</a>, this instance
    will wait for it to be resolved before starting the next task.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>opt_description</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                </td>
            
            
            
            
            <td class="description last">A description of the task.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 1121
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    A promise that will be resolved with
    the result of the action.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="webdriver.promise.Promise.html">webdriver.promise.Promise</a></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="getHistory"><span class="type-signature"></span>getHistory<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;string>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Returns a summary of the recent task activity for this instance. This
includes the most recently completed task, as well as any parent tasks. In
the returned summary, the task at index N is considered a sub-task of the
task at index N+1.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 1021
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    A summary of this instance's recent task
    activity.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">Array.&lt;string></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="getNextTask_"><span class="type-signature">&lt;private> </span>getNextTask_<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="webdriver.promise.Task_.html">webdriver.promise.Task_</a>}</span></h4>
    
    
</dt>
<dd>
    
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 1399
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    The next task to execute, or
    null if a frame was resolved.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="webdriver.promise.Task_.html">webdriver.promise.Task_</a></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="getSchedule"><span class="type-signature"></span>getSchedule<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>
    
    
</dt>
<dd>
    
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 1105
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    The scheduled tasks still pending with this instance.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">string</span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="listeners"><span class="type-signature"></span>listeners<span class="signature">(type)</span><span class="type-signature"> &rarr; {!Array.&lt;{fn: !Function, oneshot: boolean,
                  scope: (Object|undefined)}>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Returns a mutable list of listeners for a specific type of event.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>type</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The type of event to retrieve the listeners for.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="webdriver.EventEmitter.html#listeners">webdriver.EventEmitter#listeners</a>
    </li></dd>
    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="events.js.html">events.js</a>, line 72
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    The registered listeners for
    the given event type.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">!Array.&lt;{fn: !Function, oneshot: boolean,
                  scope: (Object</span>
|

<span class="param-type">undefined)}></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="once"><span class="type-signature"></span>once<span class="signature">(type, listenerFn, <span class="optional">opt_scope</span>)</span><span class="type-signature"> &rarr; {<a href="webdriver.EventEmitter.html">webdriver.EventEmitter</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Registers a one-time listener which will be called only the first time an
event is emitted, after which it will be removed.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		<th>Argument</th>
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>type</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
                <td class="attributes">
                
                    
                
                </td>
            
            
            
            
            <td class="description last">The type of event to listen for.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>listenerFn</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Function</span>


            
            </td>
            
            
                <td class="attributes">
                
                    
                
                </td>
            
            
            
            
            <td class="description last">The function to invoke when the event is fired.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>opt_scope</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                </td>
            
            
            
            
            <td class="description last">The object in whose scope to invoke the listener.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="webdriver.EventEmitter.html#once">webdriver.EventEmitter#once</a>
    </li></dd>
    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="events.js.html">events.js</a>, line 131
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    A self reference.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="webdriver.EventEmitter.html">webdriver.EventEmitter</a></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="removeAllListeners"><span class="type-signature"></span>removeAllListeners<span class="signature">(<span class="optional">opt_type</span>)</span><span class="type-signature"> &rarr; {<a href="webdriver.EventEmitter.html">webdriver.EventEmitter</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Removes all listeners for a specific type of event. If no event is
specified, all listeners across all types will be removed.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		<th>Argument</th>
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>opt_type</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                </td>
            
            
            
            
            <td class="description last">The type of event to remove listeners from.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="webdriver.EventEmitter.html#removeAllListeners">webdriver.EventEmitter#removeAllListeners</a>
    </li></dd>
    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="events.js.html">events.js</a>, line 174
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    A self reference.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="webdriver.EventEmitter.html">webdriver.EventEmitter</a></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="removeListener"><span class="type-signature"></span>removeListener<span class="signature">(type, listenerFn)</span><span class="type-signature"> &rarr; {<a href="webdriver.EventEmitter.html">webdriver.EventEmitter</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Removes a previously registered event listener.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>type</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The type of event to unregister.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>listenerFn</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Function</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The handler function to remove.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="webdriver.EventEmitter.html#removeListener">webdriver.EventEmitter#removeListener</a>
    </li></dd>
    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="events.js.html">events.js</a>, line 153
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    A self reference.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="webdriver.EventEmitter.html">webdriver.EventEmitter</a></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="reset"><span class="type-signature"></span>reset<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Resets this instance, clearing its queue and removing all event listeners.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 1004
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="resolveFrame_"><span class="type-signature">&lt;private> </span>resolveFrame_<span class="signature">(frame)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>frame</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="webdriver.promise.Frame_.html">webdriver.promise.Frame_</a></span>


            
            </td>
            
            
            
            
            
            <td class="description last">The frame to resolve.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 1422
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="runEventLoop_"><span class="type-signature">&lt;private> </span>runEventLoop_<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Executes the next task for the current frame. If the current frame has no
more tasks, the frame's result will be resolved, returning control to the
frame's creator. This will terminate the flow if the completed frame was at
the top of the stack.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 1342
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="runInNewFrame_"><span class="type-signature">&lt;private> </span>runInNewFrame_<span class="signature">(fn, callback, errback, <span class="optional">opt_activate</span>)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Executes a function in a new frame. If the function does not schedule any new
tasks, the frame will be discarded and the function's result returned
immediately. Otherwise, a promise will be returned. This promise will be
resolved with the function's result once all of the tasks scheduled within
the function have been completed. If the function's frame is aborted, the
returned promise will be rejected.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		<th>Argument</th>
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>fn</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Function</span>


            
            </td>
            
            
                <td class="attributes">
                
                    
                
                </td>
            
            
            
            
            <td class="description last">The function to execute.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function(*)</span>


            
            </td>
            
            
                <td class="attributes">
                
                    
                
                </td>
            
            
            
            
            <td class="description last">The function to call with a successful result.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>errback</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function(*)</span>


            
            </td>
            
            
                <td class="attributes">
                
                    
                
                </td>
            
            
            
            
            <td class="description last">The function to call if there is an error.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>opt_activate</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                </td>
            
            
            
            
            <td class="description last">Whether the active frame should be updated to
    the newly created frame so tasks are treated as sub-tasks.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 1491
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="schedule"><span class="type-signature"></span>schedule<span class="signature">(desc, fn)</span><span class="type-signature"> &rarr; {<a href="webdriver.promise.Promise.html">webdriver.promise.Promise</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Deprecated form of #execute() for backwards compatibility. Will be
removed in Selenium 2.31.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>desc</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">Task description.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>fn</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Function</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The function to execute.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
        <dt class="important tag-deprecated">Deprecated:</dt><dd><ul class="dummy"><li>Use opt_desc).</li><ul></dd>
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 1251
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    The task result.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="webdriver.promise.Promise.html">webdriver.promise.Promise</a></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="scheduleEventLoopStart_"><span class="type-signature">&lt;private> </span>scheduleEventLoopStart_<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Schedules the interval for this instance's event loop, if necessary.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 1314
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="scheduleTimeout"><span class="type-signature"></span>scheduleTimeout<span class="signature">(desc, ms)</span><span class="type-signature"> &rarr; {<a href="webdriver.promise.Promise.html">webdriver.promise.Promise</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Deprecated form of #timeout() for backwards compatibility. Will be
removed in Selenium 2.31.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>desc</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">Task description.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>ms</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
            
            
            
            <td class="description last">How long to timeout.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
        <dt class="important tag-deprecated">Deprecated:</dt><dd><ul class="dummy"><li>Use opt_desc).</li><ul></dd>
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 1267
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    The task result.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="webdriver.promise.Promise.html">webdriver.promise.Promise</a></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="scheduleWait"><span class="type-signature"></span>scheduleWait<span class="signature">(desc, condition, timeout, <span class="optional">opt_message</span>)</span><span class="type-signature"> &rarr; {<a href="webdriver.promise.Promise.html">webdriver.promise.Promise</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Deprecated form of #wait() for backwards compatibility. Will be
removed in Selenium 2.31.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		<th>Argument</th>
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>desc</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
                <td class="attributes">
                
                    
                
                </td>
            
            
            
            
            <td class="description last">Task description.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>condition</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Function</span>


            
            </td>
            
            
                <td class="attributes">
                
                    
                
                </td>
            
            
            
            
            <td class="description last">The condition to evaluate.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>timeout</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
                <td class="attributes">
                
                    
                
                </td>
            
            
            
            
            <td class="description last">How long to wait.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>opt_message</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                </td>
            
            
            
            
            <td class="description last">Optional failure message.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
        <dt class="important tag-deprecated">Deprecated:</dt><dd><ul class="dummy"><li>Use timeout, opt_message)</li><ul></dd>
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 1285
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    The task result.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="webdriver.promise.Promise.html">webdriver.promise.Promise</a></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="timeout"><span class="type-signature"></span>timeout<span class="signature">(ms, <span class="optional">opt_description</span>)</span><span class="type-signature"> &rarr; {<a href="webdriver.promise.Promise.html">webdriver.promise.Promise</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Inserts a setTimeout into the command queue. This is equivalent to
a thread sleep in a synchronous programming language.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		<th>Argument</th>
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>ms</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
                <td class="attributes">
                
                    
                
                </td>
            
            
            
            
            <td class="description last">The timeout delay, in milliseconds.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>opt_description</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                </td>
            
            
            
            
            <td class="description last">A description to accompany the timeout.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 1153
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    A promise that will be resolved with
    the result of the action.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="webdriver.promise.Promise.html">webdriver.promise.Promise</a></span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="trimHistory_"><span class="type-signature">&lt;private> </span>trimHistory_<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Removes a completed task from this instance's history record. If any
tasks remain from aborted frames, those will be removed as well.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 1052
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="wait"><span class="type-signature"></span>wait<span class="signature">(condition, timeout, <span class="optional">opt_message</span>)</span><span class="type-signature"> &rarr; {<a href="webdriver.promise.Promise.html">webdriver.promise.Promise</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Schedules a task that shall wait for a condition to hold. Each condition
function may return any value, but it will always be evaluated as a boolean.

<p>Condition functions may schedule sub-tasks with this instance, however,
their execution time will be factored into whether a wait has timed out.

<p>In the event a condition returns a Promise, the polling loop will wait for
it to be resolved before evaluating whether the condition has been satisfied.
The resolution time for a promise is factored into whether a wait has timed
out.

<p>If the condition function throws, or returns a rejected promise, the
wait task will fail.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		<th>Argument</th>
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>condition</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Function</span>


            
            </td>
            
            
                <td class="attributes">
                
                    
                
                </td>
            
            
            
            
            <td class="description last">The condition function to poll.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>timeout</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>
            
            
                <td class="attributes">
                
                    
                
                </td>
            
            
            
            
            <td class="description last">How long to wait, in milliseconds, for the condition
    to hold before timing out.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>opt_message</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
                <td class="attributes">
                
                    &lt;optional><br>
                
                    
                
                </td>
            
            
            
            
            <td class="description last">An optional error message to include if the
    wait times out; defaults to the empty string.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="promise.js.html">promise.js</a>, line 1185
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    A promise that will be resolved when the
    condition has been satisified. The promise shall be rejected if the wait
    times out waiting for the condition.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="webdriver.promise.Promise.html">webdriver.promise.Promise</a></span>


	</dd>
</dl>

        
    
    
</dd>

        </dl>
    
    
    
    
    
</article>

</section>  




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="webdriver.AbstractBuilder.html">AbstractBuilder</a></li><li><a href="webdriver.ActionSequence.html">ActionSequence</a></li><li><a href="webdriver.Alert.html">Alert</a></li><li><a href="webdriver.Builder.html">Builder</a></li><li><a href="webdriver.Command.html">Command</a></li><li><a href="webdriver.EventEmitter.html">EventEmitter</a></li><li><a href="webdriver.FirefoxDomExecutor.html">FirefoxDomExecutor</a></li><li><a href="webdriver.http.CorsClient.html">CorsClient</a></li><li><a href="webdriver.http.Executor.html">Executor</a></li><li><a href="webdriver.http.Request.html">Request</a></li><li><a href="webdriver.http.Response.html">Response</a></li><li><a href="webdriver.http.XhrClient.html">XhrClient</a></li><li><a href="webdriver.Locator.html">Locator</a></li><li><a href="webdriver.promise.ControlFlow.html">ControlFlow</a></li><li><a href="webdriver.promise.Deferred.html">Deferred</a></li><li><a href="webdriver.promise.Frame_.html">Frame_</a></li><li><a href="webdriver.promise.Node_.html">Node_</a></li><li><a href="webdriver.promise.Promise.html">Promise</a></li><li><a href="webdriver.promise.Task_.html">Task_</a></li><li><a href="webdriver.Session.html">Session</a></li><li><a href="webdriver.stacktrace.Frame_.html">Frame_</a></li><li><a href="webdriver.stacktrace.Snapshot.html">Snapshot</a></li><li><a href="webdriver.UnhandledAlertError.html">UnhandledAlertError</a></li><li><a href="webdriver.WebDriver.html">WebDriver</a></li><li><a href="webdriver.WebDriver.Navigation.html">Navigation</a></li><li><a href="webdriver.WebDriver.Options.html">Options</a></li><li><a href="webdriver.WebDriver.TargetLocator.html">TargetLocator</a></li><li><a href="webdriver.WebDriver.Timeouts.html">Timeouts</a></li><li><a href="webdriver.WebDriver.Window.html">Window</a></li><li><a href="webdriver.WebElement.html">WebElement</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.1.1</a> on Sun Mar 10 2013 23:26:55 GMT+0100 (CET)
</footer>

<script> prettyPrint(); </script>
</body>
</html>
